template(name="search")
  div(style="display:none") #{updatePanes}
  .dashboard-container
    .left-panel.diagnosis.search-sidebar
      h3 Find articles with...
      h4 Any of these diseases:
      each diseasesSelected
        div
          i.fa.fa-times-circle(data-name="{{name}}" class="remove-disease" style="color:crimson;")
          span {{name}}
      +inputAutocomplete settings=diseaseCompleteSettings id="new-disease" class="input-xlarge"
      button(id="add-disease") Add
      // h4 Keyword Search:
      // inputAutocomplete settings=keywordCompleteSettings id="keyword-search" class="input-xlarge"
      // button(id="search-for-keywords") Search
      h4 Any of these keywords:
      each anyKeywordsSelected
        div
          i.fa.fa-times-circle(data-name="{{name}}" class="remove-any-keyword" style="color:crimson;")
          span {{name}}
      +inputAutocomplete settings=keywordCompleteSettings id="new-any-keyword" class="input-xlarge"
      button(id="add-any-keyword") Add
      h4 All of these keywords:
      each allKeywordsSelected
        div
          i.fa.fa-times-circle(data-name="{{name}}" class="remove-all-keyword" style="color:crimson;")
          span {{name}}
      +inputAutocomplete settings=keywordCompleteSettings id="new-all-keyword" class="input-xlarge"
      button(id="add-all-keyword") Add
      // h4 In one of these countries:
      // each countriesSelected
      //   div
      //     i.fa.fa-times-circle(data-name="{{name}}" class="remove-country-filter" style="color:crimson;")
      //     span {{name}}
      // h5 Add Country:
      // each countries
      //   div
      //     a.add-country-filter(href="#" data-name="{{key}}") {{key}}
      //     span : {{doc_count}} reports
    .pane-container
      .non-interactive-pane
        .search-view-bar
          if numResults
            span Showing {{numResults}} of {{totalResults}} Results
            span |
              a.prev-page Previous
              | -
              a.next-page Next
          else
            span No Results
          span.view-select
            | | Sorted By:
            select#sort-by
              option(selected=sortByDate value="date") Date
              option(selected=sortByRelevance value="relevance") Relevance
          span.view-select
            | | Choose View:
            select#choose-view
              option(selected=mapView value="mapView") Map View
              option(selected=listView value="listView") List View
        if searching
          p Searching...
        else if mapView
          +geomapSimple
        else if listView
          +resultList

template(name="searchPill")
  span(class="sp-label") {{_id}}
  span(class="sp-categories")
    each value.categories
      span(class="sp-category") [{{this}}]